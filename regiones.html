<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regiones de Rechazo y No Rechazo - Distribución Normal</title>
    
    <!-- React y ReactDOM desde CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone para transpilar JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useMemo } = React;
        
        // Función para calcular el valor crítico z dado alpha usando aproximación de Beasley-Springer-Moro
        function getZCritical(alpha) {
          const p = 1 - alpha;
          
          if (p <= 0 || p >= 1) return 0;
          
          const a0 = 2.50662823884;
          const a1 = -18.61500062529;
          const a2 = 41.39119773534;
          const a3 = -25.44106049637;
          
          const b1 = -8.47351093090;
          const b2 = 23.08336743743;
          const b3 = -21.06224101826;
          const b4 = 3.13082909833;
          
          const c0 = 0.3374754822726147;
          const c1 = 0.9761690190917186;
          const c2 = 0.1607979714918209;
          const c3 = 0.0276438810333863;
          const c4 = 0.0038405729373609;
          const c5 = 0.0003951896511919;
          const c6 = 0.0000321767881768;
          const c7 = 0.0000002888167364;
          const c8 = 0.0000003960315187;
          
          let y = p - 0.5;
          let r, z;
          
          if (Math.abs(y) < 0.42) {
            r = y * y;
            z = y * (((a3 * r + a2) * r + a1) * r + a0) / 
                ((((b4 * r + b3) * r + b2) * r + b1) * r + 1);
          } else {
            r = p;
            if (y > 0) r = 1 - p;
            r = Math.log(-Math.log(r));
            z = c0 + r * (c1 + r * (c2 + r * (c3 + r * (c4 + r * (c5 + r * (c6 + r * (c7 + r * c8)))))));
            if (y < 0) z = -z;
          }
          
          return z;
        }

        // Función de densidad de la normal estándar
        function normalPDF(x) {
          return Math.exp(-0.5 * x * x) / Math.sqrt(2 * Math.PI);
        }

        // Componente principal
        function App() {
          // Estados para los niveles de significación (en porcentaje)
          const [alphaA, setAlphaA] = useState(1);
          const [alphaB, setAlphaB] = useState(5);
          
          // Estado para el tipo de prueba
          const [testType, setTestType] = useState('cola_der');
          
          // Estados individuales para el tipo de sombreado de cada nivel
          const [shadeTypeA, setShadeTypeA] = useState('rejection');
          const [shadeTypeB, setShadeTypeB] = useState('rejection');
          
          // Estado para seleccionar qué nivel visualizar
          const [activeLevel, setActiveLevel] = useState('ambos');
          
          // Cálculo de puntos críticos
          const criticalPoints = useMemo(() => {
            const alphaADecimal = alphaA / 100;
            const alphaBDecimal = alphaB / 100;
            
            let pointsA = {};
            let pointsB = {};
            
            if (testType === 'dos_colas') {
              const zA = getZCritical(alphaADecimal / 2);
              const zB = getZCritical(alphaBDecimal / 2);
              pointsA = { left: -zA, right: zA };
              pointsB = { left: -zB, right: zB };
            } else if (testType === 'cola_izq') {
              const zA = -getZCritical(alphaADecimal);
              const zB = -getZCritical(alphaBDecimal);
              pointsA = { left: zA };
              pointsB = { left: zB };
            } else {
              const zA = getZCritical(alphaADecimal);
              const zB = getZCritical(alphaBDecimal);
              pointsA = { right: zA };
              pointsB = { right: zB };
            }
            
            return { pointsA, pointsB };
          }, [alphaA, alphaB, testType]);
          
          // Parámetros del gráfico
          const xMin = -4;
          const xMax = 4;
          const width = 800;
          const height = 400;
          const padding = 50;
          const graphWidth = width - 2 * padding;
          const graphHeight = height - 2 * padding;
          
          // Función para convertir coordenadas x a píxeles
          const xToPixel = (x) => {
            return padding + ((x - xMin) / (xMax - xMin)) * graphWidth;
          };
          
          // Función para convertir coordenadas y a píxeles
          const yToPixel = (y) => {
            const yMax = 0.45;
            return height - padding - (y / yMax) * graphHeight;
          };
          
          // Generar puntos para la curva normal
          const curvePoints = useMemo(() => {
            const points = [];
            const steps = 200;
            for (let i = 0; i <= steps; i++) {
              const x = xMin + (i / steps) * (xMax - xMin);
              const y = normalPDF(x);
              points.push(`${xToPixel(x)},${yToPixel(y)}`);
            }
            return points.join(' ');
          }, []);
          
          // Función para generar polígono de sombreado
          const getShadePolygon = (leftBound, rightBound) => {
            const points = [];
            const steps = 100;
            
            points.push(`${xToPixel(leftBound)},${yToPixel(0)}`);
            
            for (let i = 0; i <= steps; i++) {
              const x = leftBound + (i / steps) * (rightBound - leftBound);
              const y = normalPDF(x);
              points.push(`${xToPixel(x)},${yToPixel(y)}`);
            }
            
            points.push(`${xToPixel(rightBound)},${yToPixel(0)}`);
            
            return points.join(' ');
          };
          
          return (
            <div style={{ 
              fontFamily: 'Arial, sans-serif', 
              padding: '20px',
              maxWidth: '1400px',
              margin: '0 auto'
            }}>
              <h1 style={{ textAlign: 'center', color: '#2c3e50', marginBottom: '10px', fontSize: '36px' }}>
                Regiones de Rechazo y No Rechazo
              </h1>
              <h2 style={{ textAlign: 'center', color: '#34495e', fontSize: '18px', fontWeight: 'normal', marginTop: '0', marginBottom: '30px' }}>
                Niveles de Significación en la Distribución Normal Estándar
              </h2>
              
              <div style={{ 
                display: 'grid',
                gridTemplateColumns: '450px 1fr',
                gap: '30px',
                alignItems: 'start'
              }}>
                
                <div style={{ display: 'flex', flexDirection: 'column', gap: '20px' }}>
                  
                  {/* Controles Nivel A */}
                  <div style={{ 
                    backgroundColor: '#fff', 
                    padding: '20px', 
                    borderRadius: '10px', 
                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)',
                    border: '3px solid #e74c3c'
                  }}>
                    <div style={{ 
                      display: 'flex', 
                      justifyContent: 'space-between', 
                      alignItems: 'center',
                      marginBottom: '15px'
                    }}>
                      <h3 style={{ margin: 0, color: '#e74c3c' }}>Nivel A</h3>
                      <span style={{ 
                        fontSize: '24px', 
                        fontWeight: 'bold', 
                        color: '#e74c3c' 
                      }}>
                        α = {alphaA}%
                      </span>
                    </div>
                    
                    <div style={{ marginBottom: '15px' }}>
                      <input
                        type="range"
                        min="0.1"
                        max="10"
                        step="0.1"
                        value={alphaA}
                        onChange={(e) => setAlphaA(parseFloat(e.target.value))}
                        style={{ width: '100%' }}
                      />
                    </div>
                    
                    {/* Control de tipo de sombreado para Nivel A */}
                    <div style={{ 
                      marginTop: '15px', 
                      padding: '10px', 
                      backgroundColor: '#f8f9fa', 
                      borderRadius: '5px' 
                    }}>
                      <div style={{ 
                        fontWeight: 'bold', 
                        marginBottom: '8px',
                        color: '#555'
                      }}>
                        Sombrear:
                      </div>
                      <div style={{ display: 'flex', gap: '10px' }}>
                        <button
                          onClick={() => setShadeTypeA('rejection')}
                          style={{
                            flex: 1,
                            padding: '8px',
                            border: shadeTypeA === 'rejection' ? '2px solid #e74c3c' : '2px solid #ddd',
                            backgroundColor: shadeTypeA === 'rejection' ? '#ffe6e6' : '#fff',
                            color: shadeTypeA === 'rejection' ? '#e74c3c' : '#555',
                            fontWeight: shadeTypeA === 'rejection' ? 'bold' : 'normal',
                            borderRadius: '5px',
                            cursor: 'pointer'
                          }}
                        >
                          Rechazo
                        </button>
                        <button
                          onClick={() => setShadeTypeA('acceptance')}
                          style={{
                            flex: 1,
                            padding: '8px',
                            border: shadeTypeA === 'acceptance' ? '2px solid #e74c3c' : '2px solid #ddd',
                            backgroundColor: shadeTypeA === 'acceptance' ? '#ffe6e6' : '#fff',
                            color: shadeTypeA === 'acceptance' ? '#e74c3c' : '#555',
                            fontWeight: shadeTypeA === 'acceptance' ? 'bold' : 'normal',
                            borderRadius: '5px',
                            cursor: 'pointer'
                          }}
                        >
                          No Rechazo
                        </button>
                      </div>
                    </div>
                  </div>
                  
                  {/* Controles Nivel B */}
                  <div style={{ 
                    backgroundColor: '#fff', 
                    padding: '20px', 
                    borderRadius: '10px', 
                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)',
                    border: '3px solid #3498db'
                  }}>
                    <div style={{ 
                      display: 'flex', 
                      justifyContent: 'space-between', 
                      alignItems: 'center',
                      marginBottom: '15px'
                    }}>
                      <h3 style={{ margin: 0, color: '#3498db' }}>Nivel B</h3>
                      <span style={{ 
                        fontSize: '24px', 
                        fontWeight: 'bold', 
                        color: '#3498db' 
                      }}>
                        α = {alphaB}%
                      </span>
                    </div>
                    
                    <div style={{ marginBottom: '15px' }}>
                      <input
                        type="range"
                        min="0.1"
                        max="10"
                        step="0.1"
                        value={alphaB}
                        onChange={(e) => setAlphaB(parseFloat(e.target.value))}
                        style={{ width: '100%' }}
                      />
                    </div>
                    
                    {/* Control de tipo de sombreado para Nivel B */}
                    <div style={{ 
                      marginTop: '15px', 
                      padding: '10px', 
                      backgroundColor: '#f0f8ff', 
                      borderRadius: '5px' 
                    }}>
                      <div style={{ 
                        fontWeight: 'bold', 
                        marginBottom: '8px',
                        color: '#555'
                      }}>
                        Sombrear:
                      </div>
                      <div style={{ display: 'flex', gap: '10px' }}>
                        <button
                          onClick={() => setShadeTypeB('rejection')}
                          style={{
                            flex: 1,
                            padding: '8px',
                            border: shadeTypeB === 'rejection' ? '2px solid #3498db' : '2px solid #ddd',
                            backgroundColor: shadeTypeB === 'rejection' ? '#e6f2ff' : '#fff',
                            color: shadeTypeB === 'rejection' ? '#3498db' : '#555',
                            fontWeight: shadeTypeB === 'rejection' ? 'bold' : 'normal',
                            borderRadius: '5px',
                            cursor: 'pointer'
                          }}
                        >
                          Rechazo
                        </button>
                        <button
                          onClick={() => setShadeTypeB('acceptance')}
                          style={{
                            flex: 1,
                            padding: '8px',
                            border: shadeTypeB === 'acceptance' ? '2px solid #3498db' : '2px solid #ddd',
                            backgroundColor: shadeTypeB === 'acceptance' ? '#e6f2ff' : '#fff',
                            color: shadeTypeB === 'acceptance' ? '#3498db' : '#555',
                            fontWeight: shadeTypeB === 'acceptance' ? 'bold' : 'normal',
                            borderRadius: '5px',
                            cursor: 'pointer'
                          }}
                        >
                          No Rechazo
                        </button>
                      </div>
                    </div>
                  </div>
                  
                  {/* Tipo de Prueba */}
                  <div style={{ 
                    backgroundColor: '#fff', 
                    padding: '20px', 
                    borderRadius: '10px', 
                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)'
                  }}>
                    <h3 style={{ margin: '0 0 15px 0', color: '#2c3e50' }}>Tipo de Prueba</h3>
                    <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>
                      <button
                        onClick={() => setTestType('dos_colas')}
                        style={{
                          padding: '10px',
                          border: testType === 'dos_colas' ? '2px solid #2c3e50' : '2px solid #ddd',
                          backgroundColor: testType === 'dos_colas' ? '#ecf0f1' : '#fff',
                          fontWeight: testType === 'dos_colas' ? 'bold' : 'normal',
                          borderRadius: '5px',
                          cursor: 'pointer'
                        }}
                      >
                        Dos Colas
                      </button>
                      <button
                        onClick={() => setTestType('cola_izq')}
                        style={{
                          padding: '10px',
                          border: testType === 'cola_izq' ? '2px solid #2c3e50' : '2px solid #ddd',
                          backgroundColor: testType === 'cola_izq' ? '#ecf0f1' : '#fff',
                          fontWeight: testType === 'cola_izq' ? 'bold' : 'normal',
                          borderRadius: '5px',
                          cursor: 'pointer'
                        }}
                      >
                        Cola Izquierda
                      </button>
                      <button
                        onClick={() => setTestType('cola_der')}
                        style={{
                          padding: '10px',
                          border: testType === 'cola_der' ? '2px solid #2c3e50' : '2px solid #ddd',
                          backgroundColor: testType === 'cola_der' ? '#ecf0f1' : '#fff',
                          fontWeight: testType === 'cola_der' ? 'bold' : 'normal',
                          borderRadius: '5px',
                          cursor: 'pointer'
                        }}
                      >
                        Cola Derecha
                      </button>
                    </div>
                  </div>
                  
                  {/* Visualización */}
                  <div style={{ 
                    backgroundColor: '#fff', 
                    padding: '20px', 
                    borderRadius: '10px', 
                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)'
                  }}>
                    <h3 style={{ margin: '0 0 15px 0', color: '#2c3e50' }}>Visualizar</h3>
                    <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>
                      <button
                        onClick={() => setActiveLevel('A')}
                        style={{
                          padding: '10px',
                          border: activeLevel === 'A' ? '2px solid #e74c3c' : '2px solid #ddd',
                          backgroundColor: activeLevel === 'A' ? '#ffe6e6' : '#fff',
                          color: activeLevel === 'A' ? '#e74c3c' : '#333',
                          fontWeight: activeLevel === 'A' ? 'bold' : 'normal',
                          borderRadius: '5px',
                          cursor: 'pointer'
                        }}
                      >
                        Solo Nivel A
                      </button>
                      <button
                        onClick={() => setActiveLevel('B')}
                        style={{
                          padding: '10px',
                          border: activeLevel === 'B' ? '2px solid #3498db' : '2px solid #ddd',
                          backgroundColor: activeLevel === 'B' ? '#e6f2ff' : '#fff',
                          color: activeLevel === 'B' ? '#3498db' : '#333',
                          fontWeight: activeLevel === 'B' ? 'bold' : 'normal',
                          borderRadius: '5px',
                          cursor: 'pointer'
                        }}
                      >
                        Solo Nivel B
                      </button>
                      <button
                        onClick={() => setActiveLevel('ambos')}
                        style={{
                          padding: '10px',
                          border: activeLevel === 'ambos' ? '2px solid #95a5a6' : '2px solid #ddd',
                          backgroundColor: activeLevel === 'ambos' ? '#ecf0f1' : '#fff',
                          fontWeight: activeLevel === 'ambos' ? 'bold' : 'normal',
                          borderRadius: '5px',
                          cursor: 'pointer'
                        }}
                      >
                        Ambos Niveles
                      </button>
                    </div>
                  </div>
                  
                </div>
                
                {/* Gráfico */}
                <div>
                  <div style={{ 
                    backgroundColor: '#fff', 
                    padding: '20px', 
                    borderRadius: '10px', 
                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)'
                  }}>
                    <svg width={width} height={height}>
                      {/* Ejes */}
                      <line
                        x1={padding}
                        y1={yToPixel(0)}
                        x2={width - padding}
                        y2={yToPixel(0)}
                        stroke="#000"
                        strokeWidth="1.5"
                      />
                      <line
                        x1={xToPixel(0)}
                        y1={height - padding}
                        x2={xToPixel(0)}
                        y2={padding}
                        stroke="#000"
                        strokeWidth="1.5"
                      />
                      
                      {/* Marcas en el eje X */}
                      {[-3, -2, -1, 0, 1, 2, 3].map(x => (
                        <g key={x}>
                          <line
                            x1={xToPixel(x)}
                            y1={yToPixel(0)}
                            x2={xToPixel(x)}
                            y2={yToPixel(0) + 5}
                            stroke="#000"
                            strokeWidth="1.5"
                          />
                          <text
                            x={xToPixel(x)}
                            y={yToPixel(0) + 20}
                            textAnchor="middle"
                            fontSize="12"
                            fill="#333"
                          >
                            {x}
                          </text>
                        </g>
                      ))}
                      
                      {/* Sombreados para Nivel A */}
                      {(activeLevel === 'A' || activeLevel === 'ambos') && (
                        <>
                          {shadeTypeA === 'rejection' ? (
                            <>
                              {/* Regiones de rechazo */}
                              {testType === 'dos_colas' && (
                                <>
                                  <polygon
                                    points={getShadePolygon(xMin, criticalPoints.pointsA.left)}
                                    fill="#e74c3c"
                                    opacity="0.3"
                                  />
                                  <polygon
                                    points={getShadePolygon(criticalPoints.pointsA.right, xMax)}
                                    fill="#e74c3c"
                                    opacity="0.3"
                                  />
                                </>
                              )}
                              {testType === 'cola_izq' && (
                                <polygon
                                  points={getShadePolygon(xMin, criticalPoints.pointsA.left)}
                                  fill="#e74c3c"
                                  opacity="0.3"
                                />
                              )}
                              {testType === 'cola_der' && (
                                <polygon
                                  points={getShadePolygon(criticalPoints.pointsA.right, xMax)}
                                  fill="#e74c3c"
                                  opacity="0.3"
                                />
                              )}
                            </>
                          ) : (
                            <>
                              {/* Región de no rechazo */}
                              {testType === 'dos_colas' && (
                                <polygon
                                  points={getShadePolygon(criticalPoints.pointsA.left, criticalPoints.pointsA.right)}
                                  fill="#e74c3c"
                                  opacity="0.3"
                                />
                              )}
                              {testType === 'cola_izq' && (
                                <polygon
                                  points={getShadePolygon(criticalPoints.pointsA.left, xMax)}
                                  fill="#e74c3c"
                                  opacity="0.3"
                                />
                              )}
                              {testType === 'cola_der' && (
                                <polygon
                                  points={getShadePolygon(xMin, criticalPoints.pointsA.right)}
                                  fill="#e74c3c"
                                  opacity="0.3"
                                />
                              )}
                            </>
                          )}
                        </>
                      )}
                      
                      {/* Sombreados para Nivel B */}
                      {(activeLevel === 'B' || activeLevel === 'ambos') && (
                        <>
                          {shadeTypeB === 'rejection' ? (
                            <>
                              {/* Regiones de rechazo */}
                              {testType === 'dos_colas' && (
                                <>
                                  <polygon
                                    points={getShadePolygon(xMin, criticalPoints.pointsB.left)}
                                    fill="#3498db"
                                    opacity="0.3"
                                  />
                                  <polygon
                                    points={getShadePolygon(criticalPoints.pointsB.right, xMax)}
                                    fill="#3498db"
                                    opacity="0.3"
                                  />
                                </>
                              )}
                              {testType === 'cola_izq' && (
                                <polygon
                                  points={getShadePolygon(xMin, criticalPoints.pointsB.left)}
                                  fill="#3498db"
                                  opacity="0.3"
                                />
                              )}
                              {testType === 'cola_der' && (
                                <polygon
                                  points={getShadePolygon(criticalPoints.pointsB.right, xMax)}
                                  fill="#3498db"
                                  opacity="0.3"
                                />
                              )}
                            </>
                          ) : (
                            <>
                              {/* Región de no rechazo */}
                              {testType === 'dos_colas' && (
                                <polygon
                                  points={getShadePolygon(criticalPoints.pointsB.left, criticalPoints.pointsB.right)}
                                  fill="#3498db"
                                  opacity="0.3"
                                />
                              )}
                              {testType === 'cola_izq' && (
                                <polygon
                                  points={getShadePolygon(criticalPoints.pointsB.left, xMax)}
                                  fill="#3498db"
                                  opacity="0.3"
                                />
                              )}
                              {testType === 'cola_der' && (
                                <polygon
                                  points={getShadePolygon(xMin, criticalPoints.pointsB.right)}
                                  fill="#3498db"
                                  opacity="0.3"
                                />
                              )}
                            </>
                          )}
                        </>
                      )}
                      
                      {/* Curva de la normal */}
                      <polyline
                        points={curvePoints}
                        fill="none"
                        stroke="#2c3e50"
                        strokeWidth="3"
                      />
                      
                      {/* Líneas y puntos críticos A */}
                      {criticalPoints.pointsA.left && (activeLevel === 'A' || activeLevel === 'ambos') && (
                        <>
                          <line
                            x1={xToPixel(criticalPoints.pointsA.left)}
                            y1={yToPixel(0)}
                            x2={xToPixel(criticalPoints.pointsA.left)}
                            y2={yToPixel(normalPDF(criticalPoints.pointsA.left))}
                            stroke="#e74c3c"
                            strokeWidth="2.5"
                          />
                          <circle
                            cx={xToPixel(criticalPoints.pointsA.left)}
                            cy={yToPixel(normalPDF(criticalPoints.pointsA.left))}
                            r="5"
                            fill="#e74c3c"
                            stroke="#fff"
                            strokeWidth="2"
                          />
                          <circle
                            cx={xToPixel(criticalPoints.pointsA.left)}
                            cy={yToPixel(0)}
                            r="5"
                            fill="#e74c3c"
                            stroke="#fff"
                            strokeWidth="2"
                          />
                          <text
                            x={xToPixel(criticalPoints.pointsA.left)}
                            y={yToPixel(0) + 35}
                            textAnchor="middle"
                            fontSize="12"
                            fill="#e74c3c"
                            fontWeight="bold"
                          >
                            {criticalPoints.pointsA.left.toFixed(2)}
                          </text>
                        </>
                      )}
                      {criticalPoints.pointsA.right && (activeLevel === 'A' || activeLevel === 'ambos') && (
                        <>
                          <line
                            x1={xToPixel(criticalPoints.pointsA.right)}
                            y1={yToPixel(0)}
                            x2={xToPixel(criticalPoints.pointsA.right)}
                            y2={yToPixel(normalPDF(criticalPoints.pointsA.right))}
                            stroke="#e74c3c"
                            strokeWidth="2.5"
                          />
                          <circle
                            cx={xToPixel(criticalPoints.pointsA.right)}
                            cy={yToPixel(normalPDF(criticalPoints.pointsA.right))}
                            r="5"
                            fill="#e74c3c"
                            stroke="#fff"
                            strokeWidth="2"
                          />
                          <circle
                            cx={xToPixel(criticalPoints.pointsA.right)}
                            cy={yToPixel(0)}
                            r="5"
                            fill="#e74c3c"
                            stroke="#fff"
                            strokeWidth="2"
                          />
                          <text
                            x={xToPixel(criticalPoints.pointsA.right)}
                            y={yToPixel(0) + 35}
                            textAnchor="middle"
                            fontSize="12"
                            fill="#e74c3c"
                            fontWeight="bold"
                          >
                            {criticalPoints.pointsA.right.toFixed(2)}
                          </text>
                        </>
                      )}
                      
                      {/* Líneas y puntos críticos B */}
                      {criticalPoints.pointsB.left && (activeLevel === 'B' || activeLevel === 'ambos') && (
                        <>
                          <line
                            x1={xToPixel(criticalPoints.pointsB.left)}
                            y1={yToPixel(0)}
                            x2={xToPixel(criticalPoints.pointsB.left)}
                            y2={yToPixel(normalPDF(criticalPoints.pointsB.left))}
                            stroke="#3498db"
                            strokeWidth="2.5"
                          />
                          <circle
                            cx={xToPixel(criticalPoints.pointsB.left)}
                            cy={yToPixel(normalPDF(criticalPoints.pointsB.left))}
                            r="5"
                            fill="#3498db"
                            stroke="#fff"
                            strokeWidth="2"
                          />
                          <circle
                            cx={xToPixel(criticalPoints.pointsB.left)}
                            cy={yToPixel(0)}
                            r="5"
                            fill="#3498db"
                            stroke="#fff"
                            strokeWidth="2"
                          />
                          <text
                            x={xToPixel(criticalPoints.pointsB.left)}
                            y={yToPixel(0) + 50}
                            textAnchor="middle"
                            fontSize="12"
                            fill="#3498db"
                            fontWeight="bold"
                          >
                            {criticalPoints.pointsB.left.toFixed(2)}
                          </text>
                        </>
                      )}
                      {criticalPoints.pointsB.right && (activeLevel === 'B' || activeLevel === 'ambos') && (
                        <>
                          <line
                            x1={xToPixel(criticalPoints.pointsB.right)}
                            y1={yToPixel(0)}
                            x2={xToPixel(criticalPoints.pointsB.right)}
                            y2={yToPixel(normalPDF(criticalPoints.pointsB.right))}
                            stroke="#3498db"
                            strokeWidth="2.5"
                          />
                          <circle
                            cx={xToPixel(criticalPoints.pointsB.right)}
                            cy={yToPixel(normalPDF(criticalPoints.pointsB.right))}
                            r="5"
                            fill="#3498db"
                            stroke="#fff"
                            strokeWidth="2"
                          />
                          <circle
                            cx={xToPixel(criticalPoints.pointsB.right)}
                            cy={yToPixel(0)}
                            r="5"
                            fill="#3498db"
                            stroke="#fff"
                            strokeWidth="2"
                          />
                          <text
                            x={xToPixel(criticalPoints.pointsB.right)}
                            y={yToPixel(0) + 50}
                            textAnchor="middle"
                            fontSize="12"
                            fill="#3498db"
                            fontWeight="bold"
                          >
                            {criticalPoints.pointsB.right.toFixed(2)}
                          </text>
                        </>
                      )}
                      
                      {/* Etiqueta del eje X */}
                      <text
                        x={width / 2}
                        y={height - 10}
                        textAnchor="middle"
                        fontSize="14"
                        fill="#333"
                        fontWeight="bold"
                      >
                        z
                      </text>
                    </svg>
                  </div>
                </div>
                
              </div>
              
              {/* Firma */}
              <div style={{
                textAlign: 'center',
                marginTop: '40px',
                padding: '20px',
                fontSize: '14px',
                color: '#555',
                borderTop: '1px solid #ddd'
              }}>
                <div style={{ fontWeight: 'bold', marginBottom: '5px' }}>Sergio Ruminot - 2025</div>
                <div>Departamento de Estadística - FAEA</div>
                <div>Universidad Nacional del Comahue</div>
              </div>
            </div>
          );
        }

        // Renderizar la aplicación
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
